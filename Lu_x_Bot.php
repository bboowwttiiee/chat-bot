<?php
    include('/Users/bowtie/vendor/autoload.php'); //–ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É
    use Telegram\Bot\Api; 
    $telegram = new Api('569792969:AAEfx_1nb8yntAISweR_S0TDKnAIDJLMZX8'); //–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —É BotFather
    $result = $telegram -> getWebhookUpdates(); //–ü–µ—Ä–µ–¥–∞–µ–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é $result –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    
    $keyboard0 = [["–°—Ç–∞—Ä—Ç"]]; //–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞
    $keyboard1 = [["–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞—Å"], ["–ö–æ–Ω—Ç–∞–∫—Ç—ã"]];
    $keyboard2 = [["–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å"], ["–ü–æ–∑–≤–æ–Ω–∏—Ç—å –º–Ω–µ"], ["–ù–∞–∑–∞–¥"]]; // –ù–ï –ó–ê–ë–´–¢–¨ –ü–†–û –ó–ê–ü–†–û–°!!!!

    $firsttext = "üè° –õ—é–∫–∏-–ù–µ–≤–∏–¥–∏–º–∫–∏ –≤ –°–∏–±–∏—Ä–∏

‚úÖ –í—ã–±–æ—Ä –Ω–∞ —Å–∞–π—Ç–µ
‚úÖ –û–ø–ª–∞—Ç–∞ –æ–Ω–ª–∞–π–Ω
‚úÖ –í–∏–¥–µ–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
‚úÖ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
‚úÖ –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –º–µ–Ω—è, –Ω–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ‚¨áÔ∏è";
    $mainmenutext = "–ü—Ä–∏–≤–µ—Ç!
üë∑‚Äç‚ôÄÔ∏è –Ø - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —á–∞—Ç-–±–æ—Ç –∫—Ä—É–ø–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ –≤ –°–∏–±–∏—Ä–∏ –õ—é–∫–°—Ç—Ä–æ–π. –ú–µ–Ω—è –∑–æ–≤—É—Ç –ï–≤–≥–µ–Ω–∏—è –∏ —è –æ—á–µ–Ω—å —Ä–∞–¥–∞ —Å —Ç–æ–±–æ–π –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è! –ü–æ–º–æ–≥—É –ø–æ–¥–æ–±—Ä–∞—Ç—å —Å–∫—Ä—ã—Ç—ã–π –ª—é–∫ –ø–æ–¥ –ø–ª–∏—Ç–∫—É –∏–ª–∏ –ø–æ–¥ –ø–æ–∫—Ä–∞—Å–∫—É –∏ –æ–±–æ–∏ –≤ —Å—Ç–µ–Ω—É, –≤ –ø–æ—Ç–æ–ª–æ–∫, –Ω–∞ —á–µ—Ä–¥–∞–∫, –Ω–∞ –∫—Ä–æ–≤–ª—é, –≤ –ø–æ–ª –∏–ª–∏ –ø–æ–¥–≤–∞–ª, –∞ —Ç–∞–∫–∂–µ –ø–æ–º–æ–≥—É –∑–∞–∫–∞–∑–∞—Ç—å –ª—é–∫ –ø–æ —Å–≤–æ–∏–º —Ä–∞–∑–º–µ—Ä–∞–º.";
    $onastext = "–ù–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è —Å 2009 –≥–æ–¥–∞ —è–≤–ª—è–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è–º–∏ –ª—É—á—à–∏—Ö –∑–∞–≤–æ–¥–æ–≤-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Å–≤–æ–∏–º –∫–ª–∏–µ–Ω—Ç–∞–º –ø–æ–º–æ—â—å –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ —Å —ç–∫–æ–Ω–æ–º–∏—á–Ω—ã–º –∏–Ω—Ñ—Ä–∞–∫—Ä–∞—Å–Ω—ã–º –æ–±–æ–≥—Ä–µ–≤–æ–º –∂–∏–ª—ã—Ö –¥–æ–º–æ–≤, –æ—Ñ–∏—Å–æ–≤ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–º–µ—â–µ–Ω–∏–π, –∞ —Ç–∞–∫–∂–µ   –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤ –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è —Å–∫—Ä—ã—Ç–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–≤–∏–∑–∏–æ–Ω–Ω—ã–º –ø—Ä–æ—ë–º–∞–º –≤ —Å—Ç–µ–Ω—É –∏–ª–∏ –ø–æ—Ç–æ–ª–æ–∫, –≤ –ø–æ–ª –∏–ª–∏ –ø–æ–¥–≤–∞–ª –ø–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º —Ü–µ–Ω–∞–º —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π. –í—Å–µ–≥–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –±–æ–ª—å—à–æ–π –∑–∞–ø–∞—Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏–∑–¥–µ–ª–∏–π –Ω–∞ –Ω–∞—à–∏—Ö —Å–∫–ª–∞–¥–∞—Ö. –ê —Å –ø–æ–º–æ—â—å—é –≤–µ–¥—É—â–∏—Ö –∫—É—Ä—å–µ—Ä—Å–∫–∏—Ö —Å–ª—É–∂–± –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ –¥–æ—Å—Ç–∞–≤–∏–º –í–∞—à –∑–∞–∫–∞–∑ –≤ –ª—é–±–æ–π –≥–æ—Ä–æ–¥ –†–§. –î–ª—è –∂–∏—Ç–µ–ª–µ–π –≥–æ—Ä–æ–¥–æ–≤ –°–∏–±–∏—Ä–∏ –¥–æ—Å—Ç–∞–≤–∏–º –±–µ—Å–ø–ª–∞—Ç–Ω–æ* –≤ —Ç–µ—á–µ–Ω–∏–µ 1-3 –¥–Ω–µ–π.
–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ, –º—ã –∏–∑–≥–æ—Ç–æ–≤–∏–º –ª—é–∫–∏ –≤ –ø–æ–ª, –≤ —Å—Ç–µ–Ω—É, –Ω–∞ —á–µ—Ä–¥–∞–∫ –∏–ª–∏ –Ω–∞ –∫—Ä—ã—à—É –ø–æ –≤–∞—à–∏–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º —Ä–∞–∑–º–µ—Ä–∞–º."; 
    $contactstext = "–ê–¥—Ä–µ—Å–∞ –Ω–∞—à–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤:
üè¢ –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥–æ–º 5
üè¢ –≥. –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, –ø—Ä. –ú–∏—Ä–∞, –¥–æ–º 16";
    $voprostext = "–ö–∞–∫–æ–π —É –≤–∞—Å –≤–æ–ø—Ä–æ—Å? –Ø –±—É–¥—É —Ä–∞–¥–∞ –≤–∞–º –ø–æ–º–æ—á—å :)";
    $nazadtext = "–ß–µ–º —è –º–æ–≥—É –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ–π —Ç–µ–±–µ —Å–µ–≥–æ–¥–Ω—è?";
    $text = $result["message"]["text"]; //–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
    $chat_id = $result["message"]["chat"]["id"]; //–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    $name = $result["message"]["from"]["username"]; //–Æ–∑–µ—Ä–Ω–µ–π–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

    //$reply_markup = $telegram->replyKeyboardMarkup([ 'keyboard' => $keyboard0, 'resize_keyboard' => true, 'one_time_keyboard' => true ]);
    //$telegram->sendMessage([ 'chat_id' => $chat_id, 'text' => $firsttext, 'reply_markup' => $reply_markup ]);

    if($text){
         if ($text == "/start") {
            $reply = $mainmenutext
            $reply_markup = $telegram->replyKeyboardMarkup([ 'keyboard' => $keyboard1, 'resize_keyboard' => true, 'one_time_keyboard' => true ]);
            $telegram->sendMessage([ 'chat_id' => $chat_id, 'text' => $reply, 'reply_markup' => $reply_markup ]);
        }elseif ($text == "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞—Å") {
            $reply = $onastext;
            $telegram->sendMessage([ 'chat_id' => $chat_id, 'text' => $reply ]); // !!!!!!!!!!!!!!!!!!!!!!!!!!
        }elseif ($text == "–ö–æ–Ω—Ç–∞–∫—Ç—ã") {
            $reply = $contactstext;
            $reply_markup = $telegram->replyKeyboardMarkup([ 'keyboard' => $keyboard2, 'resize_keyboard' => true, 'one_time_keyboard' => true ]);
            $telegram->sendMessage([ 'chat_id' => $chat_id, 'text' => $reply, 'reply_markup' => $reply_markup ]);

            //$telegram->sendPhoto([ 'chat_id' => $chat_id, 'photo' => $url, 'caption' => "–û–ø–∏—Å–∞–Ω–∏–µ." ]);
        }elseif ($text == "–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å") {
            $reply = "–ö–∞–∫–æ–π —É –≤–∞—Å –≤–æ–ø—Ä–æ—Å? –Ø –±—É–¥—É —Ä–∞–¥–∞ –≤–∞–º –ø–æ–º–æ—á—å :)";
            $telegram->sendMessage([ 'chat_id' => $chat_id, 'text' => $reply, 'reply_markup' => $reply_markup ]);
            //$telegram->sendDocument([ 'chat_id' => $chat_id, 'document' => $url, 'caption' => "–û–ø–∏—Å–∞–Ω–∏–µ." ]);
        }elseif ($text == "–ù–∞–∑–∞–¥"){
            $reply_markup = $telegram->replyKeyboardMarkup([ 'keyboard' => $keyboard1, 'resize_keyboard' => true, 'one_time_keyboard' => true ]);
            $telegram->sendMessage([ 'chat_id' => $chat_id, 'text' => "–ß–µ–º —è –º–æ–≥—É –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ–π —Ç–µ–±–µ —Å–µ–≥–æ–¥–Ω—è?", 'reply_markup' => $reply_markup ]);
        }elseif ($text == "–ü–æ–∑–≤–æ–Ω–∏—Ç–µ –º–Ω–µ"){
            //$reply_markup = $telegram->replyKeyboardMarkup([ 'keyboard' => $keyboard1, 'resize_keyboard' => true, 'one_time_keyboard' => true ]);
            $telegram->sendMessage([ 'chat_id' => $chat_id, 'text' => "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞", 'reply_markup' => $reply_markup ]);
        }else{
        	$reply = "–ü–æ –∑–∞–ø—Ä–æ—Å—É \"<b>".$text."</b>\" –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.";
        	$telegram->sendMessage([ 'chat_id' => $chat_id, 'parse_mode'=> 'HTML', 'text' => $reply ]);
        }
    }else{
        $reply_markup = $telegram->replyKeyboardMarkup([ 'keyboard' => $keyboard0, 'resize_keyboard' => true, 'one_time_keyboard' => true ]);
    	$telegram->sendMessage([ 'chat_id' => $chat_id, 'text' => $firsttext ]);
    }
?>